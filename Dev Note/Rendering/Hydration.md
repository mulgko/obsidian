---
title: Hydration
subject: "[[Rendering]]"
reference: "[[CSR]]"
date: 2026-02-12 15:58
description:
tags:
  - 개념
  - hydration
---

1. 배경: next.js의 hydration은 용어 이상으로 매우 중요한 개념. 전통적인 CSR은 브라우저가 처음 받는 HTML이 비어있습니다. JS가 실행될 때까지 하얀 화면으로 출력. next.js는 이를 해결하기 위해서 미리 HTML을 그려서 Pre-rendering을 해줍니다. 이는 단순한 껍데기에 불과합니다.
2. 과정(3단계)
	1. 서버 사이드 렌더링 (Dry HTML) 서버가 리액트 컴포넌트를 해석해서 정적인 HTML 파일을 만듭니다. 이때 이벤트 리스너는 작동하지 않습니다. 
	2. 브라우저 전달, 아주 빠르게 '글자'와 '그림'이 있는 화면을 보게 됩니다. (시각적 로딩 완료)
	3. 하이드레이션: 브라우저가 JS파일을 다운로드하고 실행 리액트가 서버에서 보낸 HTML과 자신이 새로 그린 구조를 비교하며 기존 HTML에 이벤트 리스너를 결합합니다. 이제 상태(state)관리가 되며, 상호작용이 가능한 앱이 됩니다.
3. 목적: 사용자에게 첫 화면을 빨리 보여주면서도(SEO, 성능), 리액트의 강력한 상호작용 기능을 유지하기 위함
4. 결과: 빠른 초기 로딩 + 부드러운 사용자 경험이라는 두 마리 토끼를 잡는 기술



⚠️ Caution: 하이드레이션 에러 (Hydration Mismatch)
개발을 하다보면, Hydration failed because the initial UI does not match...라는 문구를 많이 접하게 된다. 이는 서버에서 만든 HTML과 브라우저에서 처음 만든 HTML 구조가 다를 때 발생합니다.

해결법: useEffect안에서 데이터를 수정하거나, 서버와 클라이언트가 항상 같도록 설계해야합니다. 


- **목적:** 사용자에게 첫 화면을 빨리 보여주면서도(SEO, 성능), 리액트의 강력한 상호작용 기능을 유지하기 위함.
- **결과:** "빠른 초기 로딩" + "부드러운 사용자 경험"이라는 두 마리 토끼를 잡는 기술입니다.
